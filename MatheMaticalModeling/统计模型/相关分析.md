## 模型介绍

研究两个变量或两组变量间的相关性



## Person相关系数

要求：数据服从正态分布

步骤：

1. 绘制散点图，判断两变量之间的大致关系
2. 求相关系数`corrcoef()`
3. 对相关系数进行t检验，判断是否显著异于0



## Sperman相关系数

对于不服从正态分布或不能准确测量指标值而只能以程度去度量的的资料使用

步骤：

1. 分别对两组变量数据进行排序(相等的取平均)
2. 计算等级差的平方

$$
根据r_s=1-\frac{6*\sum^{n}_{i=1}d_i^2}{n(n^2-1)}\\得到相关系数
$$

3.同样进行t检验



上述两种方法只适用于两个互不相关变量之间的相关性分析



## 典型相关性分析

研究多个自相关自变量与多个自相关因变量间的相关性

对于两组变量：自变量组与因变量组研究相关性，由于变量组内部可能存在相关性，比如`x1`对`y1`产生影响，而也可能对`x2`产生影响而间接的影响`y1`，而前两种方法不能准确得到相关关系



![image-20220320134939588](https://raw.githubusercontent.com/Chikie920/Mark/main/Sources/images_math/image-20220320134939588.png)



### 思想

将原变量线性组合成新的变量`u_k`、`v_k`

研究新变量之间的相关性，实际上方法与主成分分析或因子分析有些类似

其中新变量之间相关性最大的两组为`u_1`、`v_1`

若新变量之间的组数为`k`、自变量与因变量个数分别为`p`、`q`

`k = min{p,q}`



![image-20220320133341868](https://raw.githubusercontent.com/Chikie920/Mark/main/Sources/images_math/image-20220320133341868.png)



得到
$$
U = A*X\\V = B*Y
$$
新变量之间相关性计算
$$
r_k = \frac{cov(u_k, v_k)}{\sqrt{D(u_k)}*\sqrt{D(v_k)}}
$$


### 建模步骤

1. 变量矩阵标准化，求得相关系数矩阵

$$
R = [\\R_{11}\space R_{12}\\
R_{12}\space R_{22}\\]
$$

其中R12才是两组变量间的相关系数矩阵，其他的都是自身的相关系数矩阵



2.求典型相关系数，典型相关变量矩阵A、B

3.典型相关系数的显著性检验-卡方检验

依次检验每组的相关系数直至不显著

`canoncorr()`函数

4.分析相关性
