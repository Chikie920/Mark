## 模型简介

- 时间序列是时间间隔不变的情况下收集的不同时间点数据集合，这些集合被分析用来了解长期发展趋势及为了预测未来
- 常用的模型有AR、MA、ARMA、ARIMA模型，而前三种是最后一种的某一种情况下的特殊形式
- 由于平稳序列具有短期相关性，所以时间序列预测短期的数据比较好，而长期预测误差较大



## 建模前的预处理

在建模前需要对得到的数据序列进行一系列检验操作，通过这些检验才能进行建模



### 平稳性检验

数据必须有平稳性，**平稳性要求数据均值与方差不发生明显变化，维持在一定的值**



**严平稳**：数据分布不随时间的改变而改变

**弱平稳**：数据依赖过去的数据，期望与相关系数(依赖性)不变



实际数据基本是弱平稳数据或不平稳数据



**三种检验方法**：时序图检验、自相关函数检验、单位根检验



#### 时序图检验

通过作图，将数据与时间表示出来，自变量为时间，因变量为数据

有一定主观性



可使用`adftest`函数检验



#### 自相关函数(ACF)检验

使用matlab的`autocorr`函数可以绘制时间序列数据在不同滞后时间下的图像



#### 偏自相关函数(PACF)检验

使用matlab的`parcorr`函数得到图像



### 白噪声(纯随机性)检验

使用matlab的`lbqtest`函数

不通过则无法使用时间序列



## ARIMA模型建立



![image-20220224190725283](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220224190725283.png)





经过前面的检验后，需要确定ARIMA(p, d, q)模型的阶数`p、q`，参数`d`为时间序列数据差分次数，**当原始序列不满足平稳性检验时，可以使用差分方法对原始数列求差分，使数据平滑(考虑到差分操作会减少数据数量，所以并不是次数越多越好，一般情况下操作一次即可)**

使用`diff`函数的到差分序列



观察ACF与PACF图像，p看pacf，q看acf



![image-20220224183840231](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220224183840231.png)



然而这种方法有一定主观性，且p与q的选择不是唯一的

可以使用**AIC准则**-**赤池信息准则**



![image-20220224190111723](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220224190111723.png)

![image-20220224190128976](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220224190128976.png)

![image-20220224190053139](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220224190053139.png)



使用`aicbic`函数可得aic与bic的值

**根据不同的AIC值绘制热度图，其中值最小的为最好的模型(模型简单且精确度较高)**



## 参数估计

使用matlab的`arima`函数得到模型结构，使用`estimate`进行拟合得到参数



## 模型检验



### 参数检验

对每个参数进行t检验(原假设-参数为0 备择检验-不为0)

某一系数不过检验-将其去掉得到疏系数模型



### 模型的显著性检验

检验残差序列，若残差为白噪声序列-拟合效果很好



## 预测

