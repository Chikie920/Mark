# 优化模型基础



## 线性与非线性

线性规划满足：**比例性、可加性、连续性**

- 比例性：`f(kx) = k*f(x)`

- 可加性：`f(x+y) = f(x)+f(y)`

- 连续性：决策变量取值连续



## 线性规划



### matlab线性规划标准型

分为**目标函数**与**约束条件**

![image-20220107184910027](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220107184910027.png)

`f x b Beq lb ub`都为**列向量**，`A`与`Aeq`为矩阵

`x`为决策向量

`f`的转置乘`x`为目标函数

大括号内的称为约束条件，分别为线性不等式约束、线性等式约束、决策向量的上下界



### matlab求解

**linprog**函数

```matlab
[x, fval] = linprog(f, A, b, Aeq, beq, lb, ub);
```

返回解向量**x**，与目标函数最优值**fval**

其中，部分参数可省略，当没有前面的参数时，使用空向量`[]`代替



### 题型

一般问题 - 直接求解

资源分配、货物装载 - 属于分配问题，使用双下标变量进行求解



## 非线性规划



### 非线性约束规划matlab基本形式

![image-20220112182550933](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220112182550933.png)



`c(x)`、`ceq(x)`为非线性函数



### 非线性约束规划matlab求解

使用`fmincon()`函数

```matlab
[x, fval] = fmincon(f, x_0, A, b, Aeq, beq, lb, ub, nonlcon);
```

`f`为非线性目标函数名，例 `'func1'`

`x_0`为决策变量的初始值，通常取0或1，根据实际来看

`nonlcon`为非线性约束函数名，例 `'func2'`，该函数需返回两个函数向量，分别为非线性不等式函数，与非线性等式函数



### 求解非线性无约束问题

即没有约束条件，单纯求非线性目标函数最值



**matlab求解**

使用`fminunc()`函数

```matlab
[x, fval] = fminunc(fun, x_0);
```

`fun`为函数名，同上

`x_0`为决策变量初始值，求得局部最优解



### 二次规划

非线性目标函数为自变量x的二次函数形式，且约束函数全为线性，称为二次规划



### 二次规划matlab求解



#### 使用fmincon()函数求解

同上



#### 使用quadprog()函数求解



**matlab标准型为**

![image-20220112185031114](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220112185031114.png)

`H`为实对称矩阵

其中
$$
x^T * x
$$


得到的是自变量的平方，该标准型是将二次函数与一次函数分离



```matlab
[x, fval] = quadprog(H, f, A, b, Aeq, beq, lb, ub, x_0);
```

`x_0`为初始值



## 整数规划



### matlab整数规划标准型

![image-20220107192331546](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220107192331546.png)



![image-20220107192340487](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220107192340487.png)

看来除了决策变量的取值为整数之外，与线性规划没有任何区别



### matlab求解

使用`intlinprog`函数

```matlab
x = intlinprog(f, intcon, A, b, Aeq, beq, lb, ub);
```

一般只返回解向量(若要返回多参数建议查看matlab社区)，需要指定整数决策变量，如 `a*x1 + b*x2 + c*x3 = z`若x3为整数变量，则指定`intcon = 3;`

有多个整形变量可以给intcon赋值向量， `intcon = (1,:)`决策向量全为整形变量

lb与ub仍要包含整形变量的上下界



## 多目标规划



#### 使用matlab求解



**基本形式**

![image-20220113115917684](https://raw.githubusercontent.com/Chikie920/Mark/266f340e02a18857d4b3a9093f7577d9027fd0d3/Sources/images_math/image-20220113115917684.png)



更多方法可查看《数学建模算法与应用》第16章内容

使用`fgoalattain()`函数

```matlab
[x, fval] = fgoalattain(fun, x_0, goal, weight, A, b, Aeq, beq, lb, ub, nonclon);
```

`fun`为函数名，其包括目标函数向量

`x_0`为初始决策向量，可使用rand()函数，随机初始一个向量

**`goal`为需要达到的目标值，若问题给出则使用其给出的值，若未给出，则可依次将各个目标函数与约束条件一起求线性(非线性)规划得出最优解，将其组成向量作为goal参数**

`weight`为目标权重，可将goal参数求绝对值后带入，abs(goal)，需要考虑题目是否给出权重，或自行给出



## 动态规划



**0-1背包问题**

<img src="D:\Chrome\MobileFile\1642050986059.jpg" alt="1642050986059"  />











# 论文写作

